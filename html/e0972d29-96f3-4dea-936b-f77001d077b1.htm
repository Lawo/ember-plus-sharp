<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Page 5: Iterate over the Local Database</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="e0972d29-96f3-4dea-936b-f77001d077b1" /><meta name="Description" content="Next, we'd like to write out all elements of the local database. This can be achieved with the following method ..." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Ember+ Sharp Project Documentation v1.3.1607.21003<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="046877b5-3e57-48ca-8868-7885de0e3842.htm" title="Ember+ Sharp Project Documentation v1.3.1607.21003" tocid="roottoc">Ember+ Sharp Project Documentation v1.3.1607.21003</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="915a270d-2a20-432f-9531-ce6aa3260566.htm" title="Ember+ Sharp Library" tocid="915a270d-2a20-432f-9531-ce6aa3260566">Ember+ Sharp Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="427fadff-8d32-472e-83d1-3ceaf705ae51.htm" title="Lawo.EmberPlusSharp.Model Namespace Tutorial" tocid="427fadff-8d32-472e-83d1-3ceaf705ae51">Lawo.EmberPlusSharp.Model Namespace Tutorial</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="c319e2c2-fa9a-4ad5-bc4f-74a85a91eb78.htm" title="Page 3: Dynamic Interface" tocid="c319e2c2-fa9a-4ad5-bc4f-74a85a91eb78">Page 3: Dynamic Interface</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="f6285c3c-ef54-453e-90ad-5546ec1a7a1d.htm" title="Page 4: Create a Local Copy of the Provider Database" tocid="f6285c3c-ef54-453e-90ad-5546ec1a7a1d">Page 4: Create a Local Copy of the Provider Database</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="e0972d29-96f3-4dea-936b-f77001d077b1.htm" title="Page 5: Iterate over the Local Database" tocid="e0972d29-96f3-4dea-936b-f77001d077b1">Page 5: Iterate over the Local Database</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="7cdb703a-14dd-42d3-8ea2-28a9b8af6663.htm" title="Page 6: React to Changes" tocid="7cdb703a-14dd-42d3-8ea2-28a9b8af6663">Page 6: React to Changes</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="84d499e7-ec08-4311-8038-987c167eaa43.htm" title="Page 7: Send Local Changes to the Provider" tocid="84d499e7-ec08-4311-8038-987c167eaa43">Page 7: Send Local Changes to the Provider</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="df1c42d3-bc00-4786-88d6-2372b281043a.htm" title="Page 8: Handle Communication Errors" tocid="df1c42d3-bc00-4786-88d6-2372b281043a">Page 8: Handle Communication Errors</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn">Page 5: Iterate over the Local Database</td><td class="logoColumn"><img src="../icons/Help.png" /></td></tr></table><span class="introStyle"></span><div class="introduction"><p>
        Next, we'd like to write out all elements of the local database. This can be achieved with the following
        method ...
      </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EAFBAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EAFBAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EAFBAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAFBAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">private</span> <span class="highlight-keyword">static</span> <span class="highlight-keyword">void</span> WriteChildren(INode node, <span class="highlight-keyword">int</span> depth)
{
    <span class="highlight-keyword">var</span> indent = <span class="highlight-keyword">new</span> <span class="highlight-keyword">string</span>(<span class="highlight-literal">' '</span>, <span class="highlight-number">2</span> * depth);

    <span class="highlight-keyword">foreach</span> (<span class="highlight-keyword">var</span> child <span class="highlight-keyword">in</span> node.Children)
    {
        <span class="highlight-keyword">var</span> childNode = child <span class="highlight-keyword">as</span> INode;

        <span class="highlight-keyword">if</span> (childNode != <span class="highlight-keyword">null</span>)
        {
            Console.WriteLine(<span class="highlight-literal">"{0}Node {1}"</span>, indent, child.Identifier);
            WriteChildren(childNode, depth + <span class="highlight-number">1</span>);
        }
        <span class="highlight-keyword">else</span>
        {
            <span class="highlight-keyword">var</span> childParameter = child <span class="highlight-keyword">as</span> IParameter;

            <span class="highlight-keyword">if</span> (childParameter != <span class="highlight-keyword">null</span>)
            {
                Console.WriteLine(<span class="highlight-literal">"{0}Parameter {1}: {2}"</span>, indent, child.Identifier, childParameter.Value);
            }
        }
    }
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAFBAAA");</script><p>... which we call from <span class="code">Main()</span> as follows ...</p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID0EADBAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EADBAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EADBAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EADBAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">AsyncPump.Run(
    <span class="highlight-keyword">async</span> () =&gt;
    {
        <span class="highlight-keyword">using</span> (<span class="highlight-keyword">var</span> client = <span class="highlight-keyword">await</span> ConnectAsync(<span class="highlight-literal">"localhost"</span>, <span class="highlight-number">9000</span>))
        <span class="highlight-keyword">using</span> (<span class="highlight-keyword">var</span> consumer = <span class="highlight-keyword">await</span> Consumer&lt;MyRoot&gt;.CreateAsync(client))
        {
            WriteChildren(consumer.Root, <span class="highlight-number">0</span>);
        }
    });</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EADBAAA");</script><p>... which produces the following output:</p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID0EABBAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID0EABBAAA');return false;" title="Copy">Copy</a></div></div><div id="ID0EABBAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Node Sapphire
  Node identity
    Parameter product: sapphire
    Parameter company: (c) L-S-B Broadcast Technologies GmbH
  Node Sources
    Node FPGM <span class="highlight-number">1</span>
      Parameter Audio Type: <span class="highlight-number">2</span>
      Node Fader
        Parameter Number: <span class="highlight-number">1</span>
        Parameter dB Value: <span class="highlight-number">-255.999999999998</span>
        Parameter Position: <span class="highlight-number">0</span>
      Node DSP
        Node Input
          Parameter Gain: <span class="highlight-number">0</span>
          Parameter Phase: True
          Parameter LR Mode: <span class="highlight-number">0</span>
        Node Delay
          Parameter Time (ms): <span class="highlight-number">0</span>
    Node FPGM <span class="highlight-number">2</span>
      Parameter Audio Type: <span class="highlight-number">2</span>
      Node Fader
        Parameter Number: <span class="highlight-number">2</span>
        Parameter dB Value: <span class="highlight-number">9</span>
        Parameter Position: <span class="highlight-number">255</span>
      Node DSP
        Node Input
          Parameter Gain: <span class="highlight-number">0</span>
          Parameter Phase: False
          Parameter LR Mode: <span class="highlight-number">0</span>
        Node Delay
          Parameter Time (ms): <span class="highlight-number">0</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EABBAAA");</script><p>Proceed to <a href="7cdb703a-14dd-42d3-8ea2-28a9b8af6663.htm">Page 6: React to Changes</a>.</p></div></div></div><div id="pageFooter" class="pageFooter"><p><a href="http://www.boost.org/LICENSE_1_0.txt" target="_blank">Copyright 2012-2016 Lawo AG. Distributed under the Boost Software License, Version 1.0.</a></p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:andreas.huber%40lawo.com?Subject=Ember+ Sharp Project Documentation v1.3.1607.21003">Andreas Huber</a></div><script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>